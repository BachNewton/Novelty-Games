{"version":3,"file":"static/js/919.ce43f416.chunk.js","mappings":"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","sources":["tools/fractal-explorer/workers/fractalWorker.ts","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["import Decimal from 'decimal.js';\r\nimport { CoordinatorMessage, WorkerMessage, ComputePixelsMessage } from './FractalWorkerMessages';\r\nimport { FractalType } from '../data/FractalTypes';\r\n\r\n/* eslint-disable no-restricted-globals */\r\nconst ctx: Worker = self as unknown as Worker;\r\nlet workerId = -1;\r\n\r\n// Cached precision to avoid redundant configuration\r\nlet cachedZoomStr: string | null = null;\r\n\r\n// Configure Decimal.js for arbitrary precision (only when zoom changes)\r\nfunction configurePrecisionIfNeeded(zoomStr: string): void {\r\n    if (zoomStr === cachedZoomStr) return;\r\n\r\n    cachedZoomStr = zoomStr;\r\n    const zoom = new Decimal(zoomStr);\r\n    // Calculate needed precision: roughly log10(zoom) * 1.5 + buffer\r\n    const zoomDigits = zoom.abs().log(10).toNumber();\r\n    const neededPrecision = Math.max(30, Math.ceil(zoomDigits * 1.5) + 20);\r\n    Decimal.set({ precision: neededPrecision });\r\n}\r\n\r\n// Threshold for using fast float mode (64-bit float has 53-bit mantissa ≈ 9e15 precision)\r\n// Set conservatively below observed artifact threshold (~3e16)\r\nconst FLOAT_PRECISION_THRESHOLD = 1e16;\r\n\r\n// Result type for smooth coloring support\r\ninterface FractalResult {\r\n    iter: number;\r\n    mag: number;  // Escape magnitude (zr² + zi²), 0 for points in set\r\n}\r\n\r\n// ==================== FAST FLOAT IMPLEMENTATIONS ====================\r\n// These use native JavaScript numbers for 10-100x speedup at moderate zoom levels\r\n\r\nfunction computeMandelbrotFloat(cReal: number, cImag: number, maxIterations: number): FractalResult {\r\n    let zr = 0;\r\n    let zi = 0;\r\n    let zr2 = 0;\r\n    let zi2 = 0;\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        if (zr2 + zi2 > 4) {\r\n            return { iter: i, mag: zr2 + zi2 };\r\n        }\r\n\r\n        zi = 2 * zr * zi + cImag;\r\n        zr = zr2 - zi2 + cReal;\r\n        zr2 = zr * zr;\r\n        zi2 = zi * zi;\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeJuliaFloat(\r\n    zReal: number,\r\n    zImag: number,\r\n    cReal: number,\r\n    cImag: number,\r\n    maxIterations: number\r\n): FractalResult {\r\n    let zr = zReal;\r\n    let zi = zImag;\r\n    let zr2 = zr * zr;\r\n    let zi2 = zi * zi;\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        if (zr2 + zi2 > 4) {\r\n            return { iter: i, mag: zr2 + zi2 };\r\n        }\r\n\r\n        zi = 2 * zr * zi + cImag;\r\n        zr = zr2 - zi2 + cReal;\r\n        zr2 = zr * zr;\r\n        zi2 = zi * zi;\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeBurningShipFloat(cReal: number, cImag: number, maxIterations: number): FractalResult {\r\n    let zr = 0;\r\n    let zi = 0;\r\n    let zr2 = 0;\r\n    let zi2 = 0;\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        if (zr2 + zi2 > 4) {\r\n            return { iter: i, mag: zr2 + zi2 };\r\n        }\r\n\r\n        const absZr = Math.abs(zr);\r\n        const absZi = Math.abs(zi);\r\n        zi = 2 * absZr * absZi + cImag;\r\n        zr = zr2 - zi2 + cReal;\r\n        zr2 = zr * zr;\r\n        zi2 = zi * zi;\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeTricornFloat(cReal: number, cImag: number, maxIterations: number): FractalResult {\r\n    let zr = 0;\r\n    let zi = 0;\r\n    let zr2 = 0;\r\n    let zi2 = 0;\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        if (zr2 + zi2 > 4) {\r\n            return { iter: i, mag: zr2 + zi2 };\r\n        }\r\n\r\n        zi = -2 * zr * zi + cImag;\r\n        zr = zr2 - zi2 + cReal;\r\n        zr2 = zr * zr;\r\n        zi2 = zi * zi;\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computePixelFloat(\r\n    pixelX: number,\r\n    pixelY: number,\r\n    canvasWidth: number,\r\n    canvasHeight: number,\r\n    centerReal: number,\r\n    centerImag: number,\r\n    zoom: number,\r\n    maxIterations: number,\r\n    fractalType: FractalType,\r\n    juliaReal: number,\r\n    juliaImag: number\r\n): FractalResult {\r\n    const real = centerReal + (pixelX - canvasWidth / 2) / zoom;\r\n    const imag = centerImag + (canvasHeight / 2 - pixelY) / zoom;\r\n\r\n    switch (fractalType) {\r\n        case 'mandelbrot':\r\n            return computeMandelbrotFloat(real, imag, maxIterations);\r\n        case 'julia':\r\n            return computeJuliaFloat(real, imag, juliaReal, juliaImag, maxIterations);\r\n        case 'burningShip':\r\n            return computeBurningShipFloat(real, imag, maxIterations);\r\n        case 'tricorn':\r\n            return computeTricornFloat(real, imag, maxIterations);\r\n        default:\r\n            return computeMandelbrotFloat(real, imag, maxIterations);\r\n    }\r\n}\r\n\r\n// ==================== ARBITRARY PRECISION IMPLEMENTATIONS ====================\r\n\r\nfunction computeMandelbrot(\r\n    cReal: Decimal,\r\n    cImag: Decimal,\r\n    maxIterations: number\r\n): FractalResult {\r\n    let zr = new Decimal(0);\r\n    let zi = new Decimal(0);\r\n    let zr2 = new Decimal(0);\r\n    let zi2 = new Decimal(0);\r\n    const four = new Decimal(4);\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        const mag = zr2.plus(zi2);\r\n        if (mag.gt(four)) {\r\n            return { iter: i, mag: mag.toNumber() };\r\n        }\r\n\r\n        zi = zr.times(zi).times(2).plus(cImag);\r\n        zr = zr2.minus(zi2).plus(cReal);\r\n        zr2 = zr.times(zr);\r\n        zi2 = zi.times(zi);\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeJulia(\r\n    zReal: Decimal,\r\n    zImag: Decimal,\r\n    cReal: Decimal,\r\n    cImag: Decimal,\r\n    maxIterations: number\r\n): FractalResult {\r\n    let zr = zReal;\r\n    let zi = zImag;\r\n    let zr2 = zr.times(zr);\r\n    let zi2 = zi.times(zi);\r\n    const four = new Decimal(4);\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        const mag = zr2.plus(zi2);\r\n        if (mag.gt(four)) {\r\n            return { iter: i, mag: mag.toNumber() };\r\n        }\r\n\r\n        zi = zr.times(zi).times(2).plus(cImag);\r\n        zr = zr2.minus(zi2).plus(cReal);\r\n        zr2 = zr.times(zr);\r\n        zi2 = zi.times(zi);\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeBurningShip(\r\n    cReal: Decimal,\r\n    cImag: Decimal,\r\n    maxIterations: number\r\n): FractalResult {\r\n    let zr = new Decimal(0);\r\n    let zi = new Decimal(0);\r\n    let zr2 = new Decimal(0);\r\n    let zi2 = new Decimal(0);\r\n    const four = new Decimal(4);\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        const mag = zr2.plus(zi2);\r\n        if (mag.gt(four)) {\r\n            return { iter: i, mag: mag.toNumber() };\r\n        }\r\n\r\n        // Burning Ship uses absolute values\r\n        const absZr = zr.abs();\r\n        const absZi = zi.abs();\r\n        zi = absZr.times(absZi).times(2).plus(cImag);\r\n        zr = zr2.minus(zi2).plus(cReal);\r\n        zr2 = zr.times(zr);\r\n        zi2 = zi.times(zi);\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computeTricorn(\r\n    cReal: Decimal,\r\n    cImag: Decimal,\r\n    maxIterations: number\r\n): FractalResult {\r\n    let zr = new Decimal(0);\r\n    let zi = new Decimal(0);\r\n    let zr2 = new Decimal(0);\r\n    let zi2 = new Decimal(0);\r\n    const four = new Decimal(4);\r\n\r\n    for (let i = 0; i < maxIterations; i++) {\r\n        const mag = zr2.plus(zi2);\r\n        if (mag.gt(four)) {\r\n            return { iter: i, mag: mag.toNumber() };\r\n        }\r\n\r\n        // Tricorn: conjugate z (negate imaginary in multiplication)\r\n        zi = zr.times(zi).times(-2).plus(cImag);\r\n        zr = zr2.minus(zi2).plus(cReal);\r\n        zr2 = zr.times(zr);\r\n        zi2 = zi.times(zi);\r\n    }\r\n\r\n    return { iter: maxIterations, mag: 0 };\r\n}\r\n\r\nfunction computePixel(\r\n    pixelX: number,\r\n    pixelY: number,\r\n    canvasWidth: number,\r\n    canvasHeight: number,\r\n    centerReal: Decimal,\r\n    centerImag: Decimal,\r\n    zoom: Decimal,\r\n    maxIterations: number,\r\n    fractalType: FractalType,\r\n    juliaReal: Decimal,\r\n    juliaImag: Decimal\r\n): FractalResult {\r\n    // Convert pixel to complex coordinate\r\n    const offsetX = new Decimal(pixelX - canvasWidth / 2).div(zoom);\r\n    const offsetY = new Decimal(canvasHeight / 2 - pixelY).div(zoom);\r\n    const real = centerReal.plus(offsetX);\r\n    const imag = centerImag.plus(offsetY);\r\n\r\n    switch (fractalType) {\r\n        case 'mandelbrot':\r\n            return computeMandelbrot(real, imag, maxIterations);\r\n        case 'julia':\r\n            return computeJulia(real, imag, juliaReal, juliaImag, maxIterations);\r\n        case 'burningShip':\r\n            return computeBurningShip(real, imag, maxIterations);\r\n        case 'tricorn':\r\n            return computeTricorn(real, imag, maxIterations);\r\n        default:\r\n            return computeMandelbrot(real, imag, maxIterations);\r\n    }\r\n}\r\n\r\nfunction processPixels(msg: ComputePixelsMessage): void {\r\n    const startTime = performance.now();\r\n\r\n    const results: number[] = [];\r\n    const totalPixels = msg.pixels.length / 2;\r\n    let pixelsCompleted = 0;\r\n    let lastProgressTime = startTime;\r\n    const PROGRESS_INTERVAL_MS = 200;\r\n\r\n    // Check if we can use fast float mode (zoom below precision threshold)\r\n    const zoomNum = parseFloat(msg.zoomStr);\r\n    const useFloatMode = zoomNum < FLOAT_PRECISION_THRESHOLD;\r\n\r\n    if (useFloatMode) {\r\n        // Fast path: use native JavaScript numbers (10-100x faster)\r\n        const centerReal = parseFloat(msg.centerRealStr);\r\n        const centerImag = parseFloat(msg.centerImagStr);\r\n        const juliaReal = parseFloat(msg.juliaRealStr);\r\n        const juliaImag = parseFloat(msg.juliaImagStr);\r\n\r\n        for (let i = 0; i < msg.pixels.length; i += 2) {\r\n            const pixelX = msg.pixels[i];\r\n            const pixelY = msg.pixels[i + 1];\r\n\r\n            const result = computePixelFloat(\r\n                pixelX, pixelY,\r\n                msg.canvasWidth, msg.canvasHeight,\r\n                centerReal, centerImag, zoomNum,\r\n                msg.maxIterations,\r\n                msg.fractalType,\r\n                juliaReal, juliaImag\r\n            );\r\n\r\n            results.push(pixelX, pixelY, result.iter, result.mag);\r\n            pixelsCompleted++;\r\n\r\n            const now = performance.now();\r\n            if (now - lastProgressTime >= PROGRESS_INTERVAL_MS) {\r\n                lastProgressTime = now;\r\n                ctx.postMessage({\r\n                    type: 'PROGRESS',\r\n                    workerId,\r\n                    renderId: msg.renderId,\r\n                    pixelsCompleted,\r\n                    totalPixels,\r\n                    passNumber: msg.passNumber\r\n                } as WorkerMessage);\r\n            }\r\n        }\r\n    } else {\r\n        // Slow path: use Decimal.js for arbitrary precision (extreme zoom levels)\r\n        configurePrecisionIfNeeded(msg.zoomStr);\r\n\r\n        const centerReal = new Decimal(msg.centerRealStr);\r\n        const centerImag = new Decimal(msg.centerImagStr);\r\n        const zoom = new Decimal(msg.zoomStr);\r\n        const juliaReal = new Decimal(msg.juliaRealStr);\r\n        const juliaImag = new Decimal(msg.juliaImagStr);\r\n\r\n        for (let i = 0; i < msg.pixels.length; i += 2) {\r\n            const pixelX = msg.pixels[i];\r\n            const pixelY = msg.pixels[i + 1];\r\n\r\n            const result = computePixel(\r\n                pixelX, pixelY,\r\n                msg.canvasWidth, msg.canvasHeight,\r\n                centerReal, centerImag, zoom,\r\n                msg.maxIterations,\r\n                msg.fractalType,\r\n                juliaReal, juliaImag\r\n            );\r\n\r\n            results.push(pixelX, pixelY, result.iter, result.mag);\r\n            pixelsCompleted++;\r\n\r\n            const now = performance.now();\r\n            if (now - lastProgressTime >= PROGRESS_INTERVAL_MS) {\r\n                lastProgressTime = now;\r\n                ctx.postMessage({\r\n                    type: 'PROGRESS',\r\n                    workerId,\r\n                    renderId: msg.renderId,\r\n                    pixelsCompleted,\r\n                    totalPixels,\r\n                    passNumber: msg.passNumber\r\n                } as WorkerMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n    ctx.postMessage({\r\n        type: 'PIXELS_RESULT',\r\n        workerId,\r\n        renderId: msg.renderId,\r\n        results,\r\n        passNumber: msg.passNumber,\r\n        computeTimeMs: performance.now() - startTime\r\n    } as WorkerMessage);\r\n}\r\n\r\nctx.onmessage = (event: MessageEvent<CoordinatorMessage>) => {\r\n    const message = event.data;\r\n\r\n    switch (message.type) {\r\n        case 'INIT':\r\n            workerId = message.workerId;\r\n            ctx.postMessage({ type: 'READY', workerId } as WorkerMessage);\r\n            break;\r\n\r\n        case 'COMPUTE_PIXELS':\r\n            processPixels(message);\r\n            break;\r\n\r\n        case 'STOP':\r\n            close();\r\n            break;\r\n    }\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [217], () => (__webpack_require__(6919)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"50e13ff1\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/Novelty-Games/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t919: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_app\"] = self[\"webpackChunkmy_app\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(217).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["ctx","self","workerId","cachedZoomStr","computeMandelbrotFloat","cReal","cImag","maxIterations","zr","zi","zr2","zi2","i","iter","mag","computePixelFloat","pixelX","pixelY","canvasWidth","canvasHeight","centerReal","centerImag","zoom","fractalType","juliaReal","juliaImag","real","imag","zReal","zImag","computeJuliaFloat","Math","abs","computeBurningShipFloat","computeTricornFloat","computeMandelbrot","Decimal","four","plus","gt","toNumber","times","minus","computePixel","offsetX","div","offsetY","computeJulia","absZr","absZi","computeBurningShip","computeTricorn","processPixels","msg","startTime","performance","now","results","totalPixels","pixels","length","pixelsCompleted","lastProgressTime","zoomNum","parseFloat","zoomStr","centerRealStr","centerImagStr","juliaRealStr","juliaImagStr","result","push","postMessage","type","renderId","passNumber","zoomDigits","log","neededPrecision","max","ceil","set","precision","configurePrecisionIfNeeded","computeTimeMs","onmessage","event","message","data","close","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","x","__webpack_exports__","O","deferred","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","d","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","reduce","promises","u","miniCssF","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","pop","next","then"],"sourceRoot":""}