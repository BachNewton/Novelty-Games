{"version":3,"file":"MusicIndex-Bisu4MSl.js","sources":["../../src/tools/music-player/logic/MusicIndex.ts"],"sourcesContent":["import { Song } from \"../data/Song\";\r\nimport musicPlayerIndexJson from '../data/music-player-index.json';\r\n\r\nexport interface MusicIndex {\r\n    songs: Song[];\r\n    genres: string[];\r\n}\r\n\r\nconst createMusicIndex: () => MusicIndex = () => {\r\n    const songs = musicPlayerIndexJson.map<Song>(song => {\r\n        return {\r\n            ids: {\r\n                guitar: song?.['guitar.ogg'] ?? null,\r\n                bass: song?.['rhythm.ogg'] ?? null,\r\n                vocals: song?.['vocals.ogg'] ?? null,\r\n                drums: song?.['drums.ogg'] ?? null,\r\n                drums1: song?.['drums_1.ogg'] ?? null,\r\n                drums2: song?.['drums_2.ogg'] ?? null,\r\n                drums3: song?.['drums_3.ogg'] ?? null,\r\n                keys: song?.['keys.ogg'] ?? null,\r\n                backing: song['song.ogg']\r\n            },\r\n            metadata: {\r\n                title: song.meta.name,\r\n                artist: cleanArtist(song.meta.artist),\r\n                genre: cleanGenre(song.meta.genre),\r\n                year: Number(song.meta.year)\r\n            }\r\n        };\r\n    });\r\n\r\n    const genres = new Set(songs.map(song => song.metadata.genre));\r\n\r\n    return {\r\n        songs: songs,\r\n        genres: [...genres]\r\n    };\r\n};\r\n\r\nfunction cleanArtist(artist: string): string {\r\n    if (artist === 'Dragonforce') return 'DragonForce';\r\n\r\n    return artist;\r\n}\r\n\r\nfunction cleanGenre(genre: string): string {\r\n    if (genre === 'CLassic Rock' || genre === 'Classicrock') return 'Classic Rock';\r\n    if (genre === 'Nu-Metal') return 'Nu Metal';\r\n\r\n    return genre;\r\n}\r\n\r\nexport { createMusicIndex };\r\n"],"names":["createMusicIndex","songs","musicPlayerIndexJson","song","cleanArtist","cleanGenre","genres","artist","genre"],"mappings":"26y0GAQMA,EAAqC,IAAM,CAC7C,MAAMC,EAAQC,EAAqB,IAAUC,IAClC,CACH,IAAK,CACD,QAAQA,GAAA,YAAAA,EAAO,gBAAiB,KAChC,MAAMA,GAAA,YAAAA,EAAO,gBAAiB,KAC9B,QAAQA,GAAA,YAAAA,EAAO,gBAAiB,KAChC,OAAOA,GAAA,YAAAA,EAAO,eAAgB,KAC9B,QAAQA,GAAA,YAAAA,EAAO,iBAAkB,KACjC,QAAQA,GAAA,YAAAA,EAAO,iBAAkB,KACjC,QAAQA,GAAA,YAAAA,EAAO,iBAAkB,KACjC,MAAMA,GAAA,YAAAA,EAAO,cAAe,KAC5B,QAASA,EAAK,UAAU,CAAA,EAE5B,SAAU,CACN,MAAOA,EAAK,KAAK,KACjB,OAAQC,EAAYD,EAAK,KAAK,MAAM,EACpC,MAAOE,EAAWF,EAAK,KAAK,KAAK,EACjC,KAAM,OAAOA,EAAK,KAAK,IAAI,CAAA,CAC/B,EAEP,EAEKG,EAAS,IAAI,IAAIL,EAAM,IAAIE,GAAQA,EAAK,SAAS,KAAK,CAAC,EAE7D,MAAO,CACH,MAAAF,EACA,OAAQ,CAAC,GAAGK,CAAM,CAAA,CAE1B,EAEA,SAASF,EAAYG,EAAwB,CACzC,OAAIA,IAAW,cAAsB,cAE9BA,CACX,CAEA,SAASF,EAAWG,EAAuB,CACvC,OAAIA,IAAU,gBAAkBA,IAAU,cAAsB,eAC5DA,IAAU,WAAmB,WAE1BA,CACX"}