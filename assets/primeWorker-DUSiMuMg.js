(function(){"use strict";const a=self;let f=-1;function u(e,s){if(e<2)return!1;if(e===2)return!0;if(e%2===0)return!1;const r=Math.sqrt(e);for(const t of s){if(t>r)break;if(e%t===0)return!1}const c=s.length>0?s[s.length-1]:2;if(c<r){let t=c+(c%2===0?1:2);for(let n=t;n<=r;n+=2)if(e%n===0)return!1}return!0}function i(e,s,r){const c=performance.now(),t=[],n=e+s-1,l=Math.max(1e3,Math.floor(s/10));for(let o=e;o<=n;o++)if(u(o,r)&&t.push(o),(o-e)%l===0&&o!==e){const m={type:"PROGRESS",workerId:f,currentNumber:o,primesFoundInBatch:t.length};a.postMessage(m)}const p=performance.now()-c,g={type:"BATCH_RESULT",workerId:f,foundPrimes:t,numbersChecked:s,batchStart:e,batchEnd:n,computeTimeMs:p};a.postMessage(g)}a.onmessage=e=>{const s=e.data;switch(s.type){case"INIT":f=s.workerId;const r={type:"READY",workerId:f};a.postMessage(r);break;case"WORK_BATCH":i(s.batchStart,s.batchSize,s.knownPrimes);break;case"STOP":close();break}}})();
//# sourceMappingURL=primeWorker-DUSiMuMg.js.map
